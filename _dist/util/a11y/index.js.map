{"version":3,"file":"index.js","sources":["../../../src/util/a11y/A11yHelper.js"],"sourcesContent":["import { CrossWindow }  from '#runtime/util/browser';\r\n\r\nimport {\r\n   isIterable,\r\n   isObject }           from '#runtime/util/object';\r\n\r\n/**\r\n * Provides several helpful utility methods for accessibility and keyboard navigation.\r\n *\r\n * Note: Global debugging can be enabled by setting `A11yHelper.debug = true`.\r\n */\r\nexport class A11yHelper\r\n{\r\n   /**\r\n    * You can set global focus debugging enabled by setting `A11yHelper.debug = true`.\r\n    *\r\n    * @type {boolean}\r\n    */\r\n   static #globalDebug = false;\r\n\r\n   /**\r\n    * @private\r\n    */\r\n   constructor()\r\n   {\r\n      throw new Error('A11yHelper constructor: This is a static class and should not be constructed.');\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} Global debugging enabled.\r\n    */\r\n   static get debug() { return this.#globalDebug; }\r\n\r\n   /**\r\n    * @param {boolean}  debug - Global debug enabled\r\n    */\r\n   static set debug(debug)\r\n   {\r\n      if (typeof debug !== 'boolean') { throw new TypeError(`'debug' is not a boolean.`); }\r\n\r\n      this.#globalDebug = debug;\r\n   }\r\n\r\n   /**\r\n    * Runs a media query to determine if the user / OS configuration is set up for reduced motion / animation.\r\n    *\r\n    * @returns {boolean} User prefers reduced motion.\r\n    */\r\n   static get prefersReducedMotion()\r\n   {\r\n      return globalThis?.matchMedia('(prefers-reduced-motion: reduce)')?.matches ?? false;\r\n   }\r\n\r\n   /**\r\n    * Apply focus to the HTMLElement / SVGElement targets in a given A11yFocusSource data object. An iterable list\r\n    * `options.focusEl` can contain HTMLElement / SVGElements or selector strings. If multiple focus targets are\r\n    * provided in a list then the first valid target found will be focused. If focus target is a string then a lookup\r\n    * via `document.querySelector` is performed. In this case you should provide a unique selector for the desired\r\n    * focus target.\r\n    *\r\n    * Note: The body of this method is postponed to the next clock tick to allow any changes in the DOM to occur that\r\n    * might alter focus targets before applying.\r\n    *\r\n    * @param {A11yFocusSource | { focusSource: A11yFocusSource }}   options - The focus options instance to apply.\r\n    */\r\n   static applyFocusSource(options)\r\n   {\r\n      if (!isObject(options))\r\n      {\r\n         if (this.debug) { console.debug(`A11yHelper.applyFocusSource debug - options is not an object: `, options); }\r\n\r\n         return;\r\n      }\r\n\r\n      // Handle the case of receiving an object with embedded `focusSource`.\r\n      const focusOpts = isObject(options?.focusSource) ? options.focusSource : options;\r\n\r\n      setTimeout(() =>\r\n      {\r\n         const debug = typeof focusOpts.debug === 'boolean' ? this.debug || focusOpts.debug : this.debug;\r\n\r\n         if (isIterable(focusOpts.focusEl))\r\n         {\r\n            if (debug)\r\n            {\r\n               console.debug(`A11yHelper.applyFocusSource debug - Attempting to apply focus target: `,\r\n                focusOpts.focusEl);\r\n            }\r\n\r\n            for (const target of focusOpts.focusEl)\r\n            {\r\n               if (target?.nodeType === Node.ELEMENT_NODE && target?.isConnected)\r\n               {\r\n                  target?.focus();\r\n                  if (debug)\r\n                  {\r\n                     console.debug(`A11yHelper.applyFocusSource debug - Applied focus to target: `, target);\r\n                  }\r\n                  break;\r\n               }\r\n               else if (typeof target === 'string')\r\n               {\r\n                  const element = document.querySelector(target);\r\n                  if (element?.nodeType === Node.ELEMENT_NODE && element?.isConnected)\r\n                  {\r\n                     element?.focus();\r\n                     if (debug)\r\n                     {\r\n                        console.debug(`A11yHelper.applyFocusSource debug - Applied focus to target: `, element);\r\n                     }\r\n                     break;\r\n                  }\r\n                  else if (debug)\r\n                  {\r\n                     console.debug(`A11yHelper.applyFocusSource debug - Could not query selector: `, target);\r\n                  }\r\n               }\r\n            }\r\n         }\r\n         else if (debug)\r\n         {\r\n            console.debug(`A11yHelper.applyFocusSource debug - No focus targets defined.`);\r\n         }\r\n      }, 0);\r\n   }\r\n\r\n   /**\r\n    * Returns first focusable element within a specified element.\r\n    *\r\n    * @param {Element | Document} [element=document] - Optional element to start query.\r\n    *\r\n    * @param {FocusableElementOptions} [options] - Optional parameters.\r\n    *\r\n    * @returns {FocusableElement} First focusable child element.\r\n    */\r\n   static getFirstFocusableElement(element = document, options)\r\n   {\r\n      const focusableElements = this.getFocusableElements(element, options);\r\n\r\n      return focusableElements.length > 0 ? focusableElements[0] : void 0;\r\n   }\r\n\r\n   /**\r\n    * Returns all focusable elements within a specified element.\r\n    *\r\n    * @param {Element | Document} [element=document] Optional element to start query.\r\n    *\r\n    * @param {FocusableElementOptions} [options] - Optional parameters.\r\n    *\r\n    * @returns {Array<FocusableElement>} Child keyboard focusable elements.\r\n    */\r\n   static getFocusableElements(element = document, { anchorHref = true, ignoreClasses, ignoreElements,\r\n    parentHidden = false, selectors } = {})\r\n   {\r\n      if (element?.nodeType !== Node.ELEMENT_NODE && element?.nodeType !== Node.DOCUMENT_NODE)\r\n      {\r\n         throw new TypeError(`'element' is not a HTMLElement, SVGElement, or Document instance.`);\r\n      }\r\n\r\n      if (typeof anchorHref !== 'boolean')\r\n      {\r\n         throw new TypeError(`'anchorHref' is not a boolean.`);\r\n      }\r\n\r\n      if (ignoreClasses !== void 0 && !isIterable(ignoreClasses))\r\n      {\r\n         throw new TypeError(`'ignoreClasses' is not an iterable list.`);\r\n      }\r\n\r\n      if (ignoreElements !== void 0 && !CrossWindow.isSet(ignoreElements))\r\n      {\r\n         throw new TypeError(`'ignoreElements' is not a Set.`);\r\n      }\r\n\r\n      if (selectors !== void 0 && typeof selectors !== 'string')\r\n      {\r\n         throw new TypeError(`'selectors' is not a string.`);\r\n      }\r\n\r\n      const selectorQuery = selectors ?? this.#getFocusableSelectors(anchorHref);\r\n\r\n      let allElements = [...element.querySelectorAll(selectorQuery)];\r\n\r\n      if (ignoreElements && ignoreClasses)\r\n      {\r\n         allElements = allElements.filter((el) =>\r\n         {\r\n            let hasIgnoreClass = false;\r\n            for (const ignoreClass of ignoreClasses)\r\n            {\r\n               if (el.classList.contains(ignoreClass))\r\n               {\r\n                  hasIgnoreClass = true;\r\n                  break;\r\n               }\r\n            }\r\n\r\n            return !hasIgnoreClass && !ignoreElements.has(el) && el.style.display !== 'none' &&\r\n             el.style.visibility !== 'hidden' && !el.hasAttribute('disabled') && !el.hasAttribute('inert') &&\r\n              el.getAttribute('aria-hidden') !== 'true';\r\n         });\r\n      }\r\n      else if (ignoreClasses)\r\n      {\r\n         allElements = allElements.filter((el) =>\r\n         {\r\n            let hasIgnoreClass = false;\r\n            for (const ignoreClass of ignoreClasses)\r\n            {\r\n               if (el.classList.contains(ignoreClass))\r\n               {\r\n                  hasIgnoreClass = true;\r\n                  break;\r\n               }\r\n            }\r\n\r\n            return !hasIgnoreClass && el.style.display !== 'none' && el.style.visibility !== 'hidden' &&\r\n             !el.hasAttribute('disabled') && !el.hasAttribute('inert') && el.getAttribute('aria-hidden') !== 'true';\r\n         });\r\n      }\r\n      else if (ignoreElements)\r\n      {\r\n         allElements = allElements.filter((el) =>\r\n         {\r\n            return !ignoreElements.has(el) && el.style.display !== 'none' && el.style.visibility !== 'hidden' &&\r\n             !el.hasAttribute('disabled') && !el.hasAttribute('inert') && el.getAttribute('aria-hidden') !== 'true';\r\n         });\r\n      }\r\n      else\r\n      {\r\n         allElements = allElements.filter((el) =>\r\n         {\r\n            return el.style.display !== 'none' && el.style.visibility !== 'hidden' && !el.hasAttribute('disabled') &&\r\n             !el.hasAttribute('inert') && el.getAttribute('aria-hidden') !== 'true';\r\n         });\r\n      }\r\n\r\n      if (parentHidden)\r\n      {\r\n         allElements = allElements.filter((el) =>\r\n         {\r\n            return !this.isParentHidden(el, element);\r\n         });\r\n      }\r\n\r\n      return allElements;\r\n   }\r\n\r\n   /**\r\n    * Returns the default focusable selectors query.\r\n    *\r\n    * @param {boolean}  [anchorHref=true] - When true anchors must have an HREF.\r\n    *\r\n    * @returns {string} Focusable selectors for `querySelectorAll`.\r\n    */\r\n   static #getFocusableSelectors(anchorHref = true)\r\n   {\r\n      return `button, [contenteditable=\"\"], [contenteditable=\"true\"], details summary:not([tabindex=\"-1\"]), embed, a${\r\n       anchorHref ? '[href]' : ''}, iframe, object, input:not([type=hidden]), select, textarea, ` +\r\n        `[tabindex]:not([tabindex=\"-1\"])`;\r\n   }\r\n\r\n   /**\r\n    * Gets a A11yFocusSource object from the given DOM event allowing for optional X / Y screen space overrides.\r\n    * Browsers (Firefox / Chrome) forwards a mouse event for the context menu keyboard button. Provides detection of\r\n    * when the context menu event is from the keyboard. Firefox as of (1/23) does not provide the correct screen space\r\n    * coordinates, so for keyboard context menu presses coordinates are generated from the centroid point of the\r\n    * element.\r\n    *\r\n    * A default fallback element or selector string may be provided to provide the focus target. If the event comes from\r\n    * the keyboard however the source focused element is inserted as the target with the fallback value appended to the\r\n    * list of focus targets. When A11yFocusSource is applied by {@link A11yHelper.applyFocusSource} the target focus\r\n    * list is iterated through until a connected target is found and focus applied.\r\n    *\r\n    * @param {object} options - Options\r\n    *\r\n    * @param {KeyboardEvent | MouseEvent}   [options.event] - The source DOM event.\r\n    *\r\n    * @param {boolean} [options.debug] - When true {@link A11yHelper.applyFocusSource} logs focus target data.\r\n    *\r\n    * @param {FocusableElement | string} [options.focusEl] - A specific HTMLElement / SVGElement or selector\r\n    *        string as the focus target.\r\n    *\r\n    * @param {number}   [options.x] - Used when an event isn't provided; integer of event source in screen space.\r\n    *\r\n    * @param {number}   [options.y] - Used when an event isn't provided; integer of event source in screen space.\r\n    *\r\n    * @returns {A11yFocusSource} A A11yFocusSource object.\r\n    *\r\n    * @see https://bugzilla.mozilla.org/show_bug.cgi?id=1426671\r\n    * @see https://bugzilla.mozilla.org/show_bug.cgi?id=314314\r\n    *\r\n    * @privateRemarks\r\n    * TODO: Evaluate / test against touch input devices.\r\n    */\r\n   static getFocusSource({ event, x, y, focusEl, debug = false })\r\n   {\r\n      if (focusEl !== void 0 && !this.isFocusSource(focusEl))\r\n      {\r\n         throw new TypeError(\r\n          `A11yHelper.getFocusSource error: 'focusEl' is not a HTMLElement, SVGElement, or string.`);\r\n      }\r\n\r\n      if (debug !== void 0 && typeof debug !== 'boolean')\r\n      {\r\n         throw new TypeError(`A11yHelper.getFocusSource error: 'debug' is not a boolean.`);\r\n      }\r\n\r\n      const debugEnabled = typeof debug === 'boolean' ? this.debug || debug : this.debug;\r\n\r\n      // Handle the case when no event is provided and x, y, or focusEl is explicitly defined.\r\n      if (event === void 0)\r\n      {\r\n         if (typeof x !== 'number')\r\n         {\r\n            throw new TypeError(`A11yHelper.getFocusSource error: 'event' not defined and 'x' is not a number.`);\r\n         }\r\n\r\n         if (typeof y !== 'number')\r\n         {\r\n            throw new TypeError(`A11yHelper.getFocusSource error: 'event' not defined and 'y' is not a number.`);\r\n         }\r\n\r\n         const result = {\r\n            debug,\r\n            focusEl: focusEl !== void 0 ? [focusEl] : void 0,\r\n            x,\r\n            y,\r\n         };\r\n\r\n         if (debugEnabled)\r\n         {\r\n            console.debug(`A11yHelper.getFocusSource debug: generated 'focusSource' without event: `, result);\r\n         }\r\n\r\n         return result;\r\n      }\r\n\r\n      // Perform duck typing on event constructor name.\r\n      if (event !== void 0 && !CrossWindow.isUserInputEvent(event))\r\n      {\r\n         throw new TypeError(\r\n          `A11yHelper.getFocusSource error: 'event' is not a KeyboardEvent, MouseEvent, or PointerEvent.`);\r\n      }\r\n\r\n      if (x !== void 0 && !Number.isFinite(x))\r\n      {\r\n         throw new TypeError(`A11yHelper.getFocusSource error: 'x' is not a number.`);\r\n      }\r\n\r\n      if (y !== void 0 && !Number.isFinite(y))\r\n      {\r\n         throw new TypeError(`A11yHelper.getFocusSource error: 'y' is not a number.`);\r\n      }\r\n\r\n      /** @type {Element} */\r\n      let targetEl;\r\n\r\n      if (event)\r\n      {\r\n         if (A11yHelper.isFocusable(event.target))\r\n         {\r\n            targetEl = event.target;\r\n            if (debugEnabled)\r\n            {\r\n               console.debug(`A11yHelper.getFocusSource debug: 'targetEl' set to event.target: `, targetEl);\r\n            }\r\n         }\r\n         else if (A11yHelper.isFocusable(event.currentTarget))\r\n         {\r\n            targetEl = event.currentTarget;\r\n            if (debugEnabled)\r\n            {\r\n               console.debug(`A11yHelper.getFocusSource debug: 'targetEl' set to event.currentTarget: `, targetEl);\r\n            }\r\n         }\r\n         else\r\n         {\r\n            if (debugEnabled)\r\n            {\r\n               console.debug(\r\n                `A11yHelper.getFocusSource debug: 'event.target' / 'event.currentTarget' are not focusable.`);\r\n               console.debug(`A11yHelper.getFocusSource debug: 'event.target': `, event.target);\r\n               console.debug(`A11yHelper.getFocusSource debug: 'event.currentTarget': `, event.currentTarget);\r\n            }\r\n         }\r\n\r\n         if (targetEl)\r\n         {\r\n            if (targetEl?.nodeType !== Node.ELEMENT_NODE && typeof targetEl?.focus !== 'function')\r\n            {\r\n               throw new TypeError(`A11yHelper.getFocusSource error: 'targetEl' is not an HTMLElement or SVGElement.`);\r\n            }\r\n         }\r\n      }\r\n\r\n      const result = { debug };\r\n\r\n      // Perform duck typing on event constructor name.\r\n      if (CrossWindow.isPointerEvent(event))\r\n      {\r\n         // Firefox currently (11/24) does not correctly determine the location of a keyboard originated\r\n         // context menu location, so calculate position from middle of the event target.\r\n         // Firefox fires a mouse event for the context menu key.\r\n         if (event?.button !== 2 && event.type === 'contextmenu')\r\n         {\r\n            // Always include x / y coordinates and targetEl may not be defined.\r\n            const rectTarget = targetEl ?? event.target;\r\n\r\n            const rect = rectTarget.getBoundingClientRect();\r\n            result.source = 'keyboard';\r\n            result.x = x ?? rect.left + (rect.width / 2);\r\n            result.y = y ?? rect.top + (rect.height / 2);\r\n            result.focusEl = targetEl ? [targetEl] : [];\r\n\r\n            if (focusEl) { result.focusEl.push(focusEl); }\r\n         }\r\n         else\r\n         {\r\n            result.source = 'pointer';\r\n            result.x = x ?? event.pageX;\r\n            result.y = y ?? event.pageY;\r\n            result.focusEl = targetEl ? [targetEl] : [];\r\n\r\n            if (focusEl) { result.focusEl.push(focusEl); }\r\n         }\r\n      }\r\n      else\r\n      {\r\n         // Always include x / y coordinates and targetEl may not be defined.\r\n         const rectTarget = targetEl ?? event?.target;\r\n\r\n         if (rectTarget)\r\n         {\r\n            const rect = rectTarget.getBoundingClientRect();\r\n            result.source = 'keyboard';\r\n            result.x = x ?? rect.left + (rect.width / 2);\r\n            result.y = y ?? rect.top + (rect.height / 2);\r\n            result.focusEl = targetEl ? [targetEl] : [];\r\n         }\r\n\r\n         if (focusEl) { result.focusEl.push(focusEl); }\r\n      }\r\n\r\n      if (debugEnabled)\r\n      {\r\n         console.debug(`A11yHelper.getFocusSource debug: generated 'focusSource' with event: `, result);\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n   /**\r\n    * Returns first focusable element within a specified element.\r\n    *\r\n    * @param {Element | Document} [element=document] - Optional element to start query.\r\n    *\r\n    * @param {FocusableElementOptions} [options] - Optional parameters.\r\n    *\r\n    * @returns {FocusableElement} Last focusable child element.\r\n    */\r\n   static getLastFocusableElement(element = document, options)\r\n   {\r\n      const focusableElements = this.getFocusableElements(element, options);\r\n\r\n      return focusableElements.length > 0 ? focusableElements[focusableElements.length - 1] : void 0;\r\n   }\r\n\r\n   /**\r\n    * Tests if the given element is focusable.\r\n    *\r\n    * Note: A special case for focus testing occurs when an element has `tabindex` of `-1` _and_ the\r\n    * `tjs-a11y-focusable` class.\r\n    *\r\n    * @param {unknown} el - Element to test.\r\n    *\r\n    * @param {object} [options] - Optional parameters.\r\n    *\r\n    * @param {boolean} [options.anchorHref=true] - When true anchors must have an HREF.\r\n    *\r\n    * @param {Iterable<string>} [options.ignoreClasses] - Iterable list of classes to ignore elements.\r\n    *\r\n    * @returns {boolean} Element is focusable.\r\n    */\r\n   static isFocusable(el, { anchorHref = true, ignoreClasses } = {})\r\n   {\r\n      if (el === void 0 || el === null || el?.hidden || !el?.isConnected || el?.nodeType !== Node.ELEMENT_NODE ||\r\n       typeof el?.focus !== 'function')\r\n      {\r\n         return false;\r\n      }\r\n\r\n      if (typeof anchorHref !== 'boolean')\r\n      {\r\n         throw new TypeError(`'anchorHref' is not a boolean.`);\r\n      }\r\n\r\n      if (ignoreClasses !== void 0 && !isIterable(ignoreClasses))\r\n      {\r\n         throw new TypeError(`'ignoreClasses' is not an iterable list.`);\r\n      }\r\n\r\n      const contenteditableAttr = el.getAttribute('contenteditable');\r\n      const contenteditableFocusable = typeof contenteditableAttr === 'string' &&\r\n       (contenteditableAttr === '' || contenteditableAttr === 'true');\r\n\r\n      const tabindexAttr = globalThis.parseInt(el.getAttribute('tabindex'));\r\n\r\n      // Focusable when `tabindex` is >= 0 or when `tabindex` is `-1` and the `tjs-a11y-focusable` class is present.\r\n      const tabindexFocusable = Number.isInteger(tabindexAttr) && (tabindexAttr >= 0 ||\r\n       (tabindexAttr === -1 && el.classList.contains('tjs-a11y-focusable')));\r\n\r\n      if (contenteditableFocusable || tabindexFocusable || CrossWindow.isFocusableHTMLElement(el))\r\n      {\r\n         // Ensure that an anchor element has an `href` attribute.\r\n         if (anchorHref && !tabindexFocusable && CrossWindow.isHTMLAnchorElement(el) &&\r\n          typeof el.getAttribute('href') !== 'string')\r\n         {\r\n            return false;\r\n         }\r\n\r\n         return el.style.display !== 'none' && el.style.visibility !== 'hidden' && !el.hasAttribute('disabled') &&\r\n          !el.hasAttribute('inert') && el.getAttribute('aria-hidden') !== 'true';\r\n      }\r\n\r\n      return false;\r\n   }\r\n\r\n   /**\r\n    * Convenience method to check if the given data is a valid focus source.\r\n    *\r\n    * @param {Element | EventTarget | string}   data - Either an HTMLElement, SVGElement, or selector string.\r\n    *\r\n    * @returns {boolean} Is valid focus source.\r\n    */\r\n   static isFocusSource(data)\r\n   {\r\n      return typeof data === 'string' || (data?.nodeType === Node.ELEMENT_NODE && typeof data?.focus === 'function');\r\n   }\r\n\r\n   /**\r\n    * Tests if the given `element` is a Element node and has a `focus` method.\r\n    *\r\n    * @param {unknown}  element - Element to test for focus method.\r\n    *\r\n    * @returns {element is FocusableElement} Whether the element has a focus method.\r\n    */\r\n   static isFocusTarget(element)\r\n   {\r\n      return element !== void 0 && element !== null && element?.nodeType === Node.ELEMENT_NODE &&\r\n       typeof element?.focus === 'function';\r\n   }\r\n\r\n   /**\r\n    * Perform a parent traversal from the current active element attempting to match the given element to test whether\r\n    * current active element is within that element.\r\n    *\r\n    * @param {Element}  element - An element to match in parent traversal from the active element.\r\n    *\r\n    * @returns {boolean} Whether there is focus within the given element.\r\n    */\r\n   static isFocusWithin(element)\r\n   {\r\n      if (!isObject(element) || element?.hidden || !element?.isConnected) { return false; }\r\n\r\n      let active = CrossWindow.getActiveElement(element);\r\n\r\n      if (!active) { return false; }\r\n\r\n      while (active)\r\n      {\r\n         if (active === element) { return true; }\r\n\r\n         active = active.parentElement;\r\n      }\r\n\r\n      return false;\r\n   }\r\n\r\n   /**\r\n    * Traverses the given element's parent elements to check if any parent has `offsetWidth` and `offsetHeight` of 0,\r\n    * indicating that a parent element is hidden. If a parent element is hidden, the given element is also considered\r\n    * hidden. This is a reasonably efficient check and can be enabled as a filter step in conjunction with focusable\r\n    * element detection methods like {@link A11yHelper.getFocusableElements}.\r\n    *\r\n    * @param {Element}  element - The starting element to check.\r\n    *\r\n    * @param {Element}  [stopElement] - The stopping parent element for traversal. If not defined, `document.body` is\r\n    *        used as the stopping element.\r\n    *\r\n    * @returns {boolean} `true` if a parent element of the given element is hidden; otherwise, `false`.\r\n    */\r\n   static isParentHidden(element, stopElement)\r\n   {\r\n      if (!CrossWindow.isElement(element)) { throw new TypeError(`'element' is not an Element.`); }\r\n\r\n      // Set `stopElement` to `document.body` if undefined.\r\n      stopElement = stopElement ?? CrossWindow.getDocument(element)?.body;\r\n\r\n      if (!CrossWindow.isElement(stopElement)) { throw new TypeError(`'stopElement' must be an Element.`); }\r\n\r\n      let current = element.parentElement;\r\n\r\n      while (current)\r\n      {\r\n         // Stop traversal if `stopElement` is reached.\r\n         if (current === stopElement) { break; }\r\n\r\n         // Check if the current parent is hidden by its size.\r\n         if (current.offsetWidth === 0 && current.offsetHeight === 0) { return true; }\r\n\r\n         current = current.parentElement;\r\n      }\r\n\r\n      // No parent is hidden.\r\n      return false;\r\n   }\r\n}\r\n\r\n/**\r\n * @typedef {Element & HTMLOrSVGElement} FocusableElement A focusable element; either HTMLElement or SvgElement.\r\n */\r\n\r\n/**\r\n * @typedef {object} FocusableElementOptions Options for {@link A11yHelper.getFirstFocusableElement},\r\n * {@link A11yHelper.getFocusableElements}, and {@link A11yHelper.getLastFocusableElement}.\r\n *\r\n * @property {boolean}           [anchorHref=true] When true anchors must have an HREF; default: `true`.\r\n *\r\n * @property {Iterable<string>}  [ignoreClasses] Iterable list of classes to ignore elements.\r\n *\r\n * @property {Set<Element>}      [ignoreElements] Set of elements to ignore.\r\n *\r\n * @property {boolean}           [parentHidden=false] When true elements with hidden parents will be removed;\r\n * default: `false`.\r\n *\r\n * @property {string}            [selectors] Custom list of focusable selectors for `querySelectorAll`.\r\n */\r\n\r\n/**\r\n * @typedef {object} A11yFocusSource Provides essential data to return focus to an HTMLElement / SVGElement after a\r\n * series of UI actions like working with context menus and modal dialogs.\r\n *\r\n * @property {boolean} [debug] When true logs to console the actions taken in {@link A11yHelper.applyFocusSource}.\r\n *\r\n * @property {Iterable<FocusableElement | string>} [focusEl] List of targets to attempt to focus.\r\n *\r\n * @property {string} [source] The source of the event: 'keyboard' for instance.\r\n *\r\n * @property {number} [x] Potential X coordinate of initial event.\r\n *\r\n * @property {number} [y] Potential Y coordinate of initial event.\r\n */\r\n"],"names":[],"mappings":"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"}