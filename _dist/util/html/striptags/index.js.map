{"version":3,"file":"index.js","sources":["../../../../node_modules/striptags/dist/es6/striptags.js"],"sourcesContent":["function isSpace(character) {\n    return character == \" \" || character == \"\\n\" || character == \"\\r\" || character == \"\\t\";\n}\nfunction isQuote(character) {\n    return character == '\"' || character == \"'\";\n}\nconst TAG_START = \"<\";\nconst TAG_END = \">\";\nconst ENCODED_TAG_START = \"&lt;\";\nconst ENCODED_TAG_END = \"&gt;\";\nclass InPlaintextState {\n    options;\n    constructor(options) {\n        this.options = options;\n    }\n    consume(character, transition) {\n        if (character == TAG_START) {\n            transition(new InTagNameState(this.options));\n            return \"\";\n        }\n        else if (character == TAG_END && this.options.encodePlaintextTagDelimiters) {\n            return ENCODED_TAG_END;\n        }\n        return character;\n    }\n}\nclass InTagNameState {\n    options;\n    nameBuffer = \"\";\n    isClosingTag = false;\n    constructor(options) {\n        this.options = options;\n    }\n    consume(character, transition) {\n        if (this.nameBuffer.length == 0) {\n            if (isSpace(character)) {\n                transition(new InPlaintextState(this.options));\n                return ((this.options.encodePlaintextTagDelimiters ? ENCODED_TAG_START : \"<\") +\n                    character);\n            }\n            if (character == \"/\") {\n                this.isClosingTag = true;\n                return \"\";\n            }\n        }\n        if (isSpace(character)) {\n            if (this.isNameBufferAnAllowedTag()) {\n                transition(new InTagState(0 /* TagMode.Allowed */, this.options));\n                return TAG_START + (this.isClosingTag ? \"/\" : \"\") + this.nameBuffer + character;\n            }\n            else {\n                transition(new InTagState(1 /* TagMode.Disallowed */, this.options));\n                return this.options.tagReplacementText;\n            }\n        }\n        if (character == TAG_START) {\n            this.nameBuffer += ENCODED_TAG_START;\n            return \"\";\n        }\n        if (character == TAG_END) {\n            transition(new InPlaintextState(this.options));\n            if (this.isNameBufferAnAllowedTag()) {\n                return TAG_START + (this.isClosingTag ? \"/\" : \"\") + this.nameBuffer + character;\n            }\n            else {\n                return this.options.tagReplacementText;\n            }\n        }\n        if (character == \"-\" && this.nameBuffer == \"!-\") {\n            transition(new InCommentState(this.options));\n            return \"\";\n        }\n        this.nameBuffer += character;\n        return \"\";\n    }\n    isNameBufferAnAllowedTag() {\n        const tagName = this.nameBuffer.toLowerCase();\n        if (this.options.allowedTags) {\n            return this.options.allowedTags.has(tagName);\n        }\n        else if (this.options.disallowedTags) {\n            return !this.options.disallowedTags.has(tagName);\n        }\n        else {\n            return false;\n        }\n    }\n}\nclass InTagState {\n    mode;\n    options;\n    constructor(mode, options) {\n        this.mode = mode;\n        this.options = options;\n    }\n    consume(character, transition) {\n        if (character == TAG_END) {\n            transition(new InPlaintextState(this.options));\n        }\n        else if (isQuote(character)) {\n            transition(new InQuotedStringInTagState(this.mode, character, this.options));\n        }\n        if (this.mode == 1 /* TagMode.Disallowed */) {\n            return \"\";\n        }\n        if (character == TAG_START) {\n            return ENCODED_TAG_START;\n        }\n        else {\n            return character;\n        }\n    }\n}\nclass InQuotedStringInTagState {\n    mode;\n    quoteCharacter;\n    options;\n    constructor(mode, quoteCharacter, options) {\n        this.mode = mode;\n        this.quoteCharacter = quoteCharacter;\n        this.options = options;\n    }\n    consume(character, transition) {\n        if (character == this.quoteCharacter) {\n            transition(new InTagState(this.mode, this.options));\n        }\n        if (this.mode == 1 /* TagMode.Disallowed */) {\n            return \"\";\n        }\n        if (character == TAG_START) {\n            return ENCODED_TAG_START;\n        }\n        else if (character == TAG_END) {\n            return ENCODED_TAG_END;\n        }\n        else {\n            return character;\n        }\n    }\n}\nclass InCommentState {\n    options;\n    consecutiveHyphens = 0;\n    constructor(options) {\n        this.options = options;\n    }\n    consume(character, transition) {\n        if (character == \">\" && this.consecutiveHyphens >= 2) {\n            transition(new InPlaintextState(this.options));\n        }\n        else if (character == \"-\") {\n            this.consecutiveHyphens++;\n        }\n        else {\n            this.consecutiveHyphens = 0;\n        }\n        return \"\";\n    }\n}\n\nconst DefaultStateMachineOptions = {\n    tagReplacementText: \"\",\n    encodePlaintextTagDelimiters: true,\n};\nclass StateMachine {\n    state;\n    transitionFunction;\n    constructor(partialOptions = {}) {\n        this.state = new InPlaintextState({\n            ...DefaultStateMachineOptions,\n            ...partialOptions,\n        });\n        this.transitionFunction = ((next) => {\n            this.state = next;\n        }).bind(this);\n    }\n    consume(text) {\n        let outputBuffer = \"\";\n        for (const character of text) {\n            outputBuffer += this.state.consume(character, this.transitionFunction);\n        }\n        return outputBuffer;\n    }\n}\nfunction striptags(text, options = {}) {\n    return new StateMachine(options).consume(text);\n}\n\nexport { DefaultStateMachineOptions, StateMachine, striptags };\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}