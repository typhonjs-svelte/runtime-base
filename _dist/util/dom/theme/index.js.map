{"version":3,"file":"index.js","sources":["../../../../src/util/dom/theme/ThemeObserver.js"],"sourcesContent":["import { CrossRealm }   from '#runtime/util';\n\nimport { writable }     from '#svelte/store';\n\n/**\n * Provides reactive observation of any platform theme.\n *\n * @privateRemarks\n * This is an API stub class that is a no-op implementation. TODO: More documentation on the stubbing process.\n */\nclass ThemeObserver\n{\n   /**\n    * All readable theme stores.\n    *\n    * @type {Readonly<({\n    *    themeName: Readonly<import('svelte/store').Readable<string>>\n    *    themeToken: Readonly<import('svelte/store').Readable<string>>\n    * })>}\n    */\n   static #stores;\n\n   /**\n    * Internal setter for theme stores.\n    *\n    * @type {{ themeName: Function, themeToken: Function }}\n    */\n   static #storeSet;\n\n   /**\n    * Current theme name.\n    *\n    * @type {string}\n    */\n   static #themeName = '';\n\n   /**\n    * Current theme token.\n    *\n    * @type {string}\n    */\n   static #themeToken = '';\n\n   /**\n    * @hideconstructor\n    */\n   constructor()\n   {\n      throw new Error('ThemeObserver constructor: This is a static class and should not be constructed.');\n   }\n\n   /**\n    * @returns {Readonly<({\n    *    themeName: Readonly<import('svelte/store').Readable<string>>\n    *    themeToken: Readonly<import('svelte/store').Readable<string>>\n    * })>} Current platform theme stores.\n    */\n   static get stores() { return this.#stores; }\n\n   /**\n    * @returns {string} Current theme name; may be different from the theme token.\n    */\n   static get themeName()\n   {\n      return this.#themeName;\n   }\n\n   /**\n    * @returns {string} Current theme token - CSS class or data attribute value.\n    */\n   static get themeToken()\n   {\n      return this.#themeToken;\n   }\n\n   /**\n    * Verify that the given `theme` name or token is the current platform theme.\n    *\n    * @param {string} theme - A theme name or token to verify.\n    *\n    * @returns {boolean} If the requested theme matches the current platform theme.\n    */\n   static isTheme(theme)\n   {\n      return false;\n   }\n\n   /**\n    * Detect if theming tokens (CSS class, etc.) are present in the given iterable list.\n    *\n    * @param {Iterable<string>}  tokens - a token list to verify if any theming tokens are included.\n    *\n    * @param {object} [options] - Optional parameters.\n    *\n    * @param {boolean} [options.strict=false] - When true, all theming tokens required if multiple are verified.\n    *\n    * @returns {boolean} True if theming tokens present.\n    */\n   static hasThemedTokens(tokens, { strict = false } = {})\n   {\n      return false;\n   }\n\n   /**\n    * Initialize `document.body` theme observation.\n    *\n    * @internal\n    */\n   static initialize()\n   {\n      if (this.#stores !== void 0) { return; }\n\n      const themeName = writable(this.#themeName);\n      const themeToken = writable(this.#themeToken);\n\n      this.#stores = Object.freeze({\n         themeName: Object.freeze({ subscribe: themeName.subscribe }),\n         themeToken: Object.freeze({ subscribe: themeToken.subscribe }),\n      });\n\n      this.#storeSet = {\n         themeName: themeName.set,\n         themeToken: themeToken.set,\n      };\n   }\n\n   /**\n    * Determine the nearest theme tokens (CSS classes, etc.) from the given element.\n    *\n    * @param {object} options - Required options.\n    *\n    * @param {Element | EventTarget} options.element - A DOM element.\n    *\n    * @param {Set<string>} [options.output] - An optional source Set of existing tokens.\n    *\n    * @param {boolean} [options.override=true] - When true, override any existing theme tokens.\n    *\n    * @param {boolean} [options.strict=false] - When true, ensure all required theming tokens in output.\n    *\n    * @returns {Iterable<string>} Any theming tokens found from the given element.\n    */\n   static nearestThemedTokens({ element, output = new Set(), override = true, strict = false })\n   {\n      if (!CrossRealm.isSet(output)) { throw new TypeError(`'output' is not a Set.`); }\n\n      if (!CrossRealm.isElement(element)) { return output; }\n\n      return output;\n   }\n}\n\nThemeObserver.initialize();\n\nexport { ThemeObserver };\n"],"names":[],"mappings":";;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,OAAO;;AAEjB;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,SAAS;;AAEnB;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,UAAU,GAAG,EAAE;;AAEzB;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,WAAW,GAAG,EAAE;;AAE1B;AACA;AACA;AACA,GAAG,WAAW;AACd,GAAG;AACH,MAAM,MAAM,IAAI,KAAK,CAAC,kFAAkF,CAAC;AACzG,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,WAAW,MAAM,GAAG,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC;;AAE9C;AACA;AACA;AACA,GAAG,WAAW,SAAS;AACvB,GAAG;AACH,MAAM,OAAO,IAAI,CAAC,UAAU;AAC5B,GAAG;;AAEH;AACA;AACA;AACA,GAAG,WAAW,UAAU;AACxB,GAAG;AACH,MAAM,OAAO,IAAI,CAAC,WAAW;AAC7B,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,OAAO,CAAC,KAAK;AACvB,GAAG;AACH,MAAM,OAAO,KAAK;AAClB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,eAAe,CAAC,MAAM,EAAE,EAAE,MAAM,GAAG,KAAK,EAAE,GAAG,EAAE;AACzD,GAAG;AACH,MAAM,OAAO,KAAK;AAClB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,UAAU;AACpB,GAAG;AACH,MAAM,IAAI,IAAI,CAAC,OAAO,KAAK,MAAM,EAAE,EAAE,OAAO,CAAC;;AAE7C,MAAM,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;AACjD,MAAM,MAAM,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;;AAEnD,MAAM,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC;AACnC,SAAS,SAAS,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,SAAS,CAAC,SAAS,EAAE,CAAC;AACrE,SAAS,UAAU,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,UAAU,CAAC,SAAS,EAAE,CAAC;AACvE,OAAO,CAAC;;AAER,MAAM,IAAI,CAAC,SAAS,GAAG;AACvB,SAAS,SAAS,EAAE,SAAS,CAAC,GAAG;AACjC,SAAS,UAAU,EAAE,UAAU,CAAC,GAAG;AACnC,OAAO;AACP,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,mBAAmB,CAAC,EAAE,OAAO,EAAE,MAAM,GAAG,IAAI,GAAG,EAAE,EAAE,QAAQ,GAAG,IAAI,EAAE,MAAM,GAAG,KAAK,EAAE;AAC9F,GAAG;AACH,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,IAAI,SAAS,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;;AAEtF,MAAM,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,MAAM,CAAC,CAAC;;AAE3D,MAAM,OAAO,MAAM;AACnB,GAAG;AACH;;AAEA,aAAa,CAAC,UAAU,EAAE;;;;"}