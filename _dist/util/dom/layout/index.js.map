{"version":3,"file":"index.js","sources":["../../../../src/util/dom/layout/findParentElement.ts","../../../../src/util/dom/layout/getStackingContext.ts"],"sourcesContent":["import {\n   ensureNonEmptyIterable,\n   isObject }              from '#runtime/util/object';\n\nimport { CrossRealm }      from '#runtime/util/realm';\n\n/**\n * Walks up the DOM parentElement chain and returns the first ancestor that\n * satisfies multiple filtering rules (class, ID, selector, predicate), while\n * optionally limiting traversal depth.\n *\n * @param el       Starting element.\n * @param options  Filtering and traversal options.\n * @returns        The first acceptable parent element, or null.\n */\nexport function findParentElement(el: Element, options: FindParentOptions = {}): HTMLElement | null\n{\n   if (!CrossRealm.browser.isElement(el)) { throw new TypeError(`'el' is not a valid Element.`); }\n\n   if (options === void 0)\n   {\n      return el.parentElement;\n   }\n   else if (!isObject(options))\n   {\n      throw new TypeError(`'options' is not an object.`);\n   }\n\n   const {\n      excludeClasses,\n      includeClasses,\n      excludeIds,\n      includeIds,\n      selector,\n      excludeSelector,\n      predicate,\n      stopAt,\n      maxDepth\n   } = options;\n\n   if (maxDepth !== void 0 && !Number.isInteger(maxDepth) && maxDepth <= 0)\n   {\n      throw new TypeError(`'maxDepth' is not a positive integer.`);\n   }\n\n   // Normalize iterables via ensureNonEmptyIterable\n   const exClasses = ensureNonEmptyIterable(excludeClasses);\n   const inClasses = ensureNonEmptyIterable(includeClasses);\n   const exIds     = ensureNonEmptyIterable(excludeIds);\n   const inIds     = ensureNonEmptyIterable(includeIds);\n\n   let current = el.parentElement;\n\n   // Depth limit (Infinity if not provided)\n   let depth = 0;\n   const limit = maxDepth ?? Infinity;\n\n   while (current && depth <= limit)\n   {\n      // Stop traversal at boundary element\n      if (stopAt && current === stopAt) { return null; }\n\n      // Exclusion checks --------------------------------------------------------------------------------------------\n\n      let reject = false;\n\n      // Excluded classes\n      if (exClasses)\n      {\n         for (const cls of exClasses)\n         {\n            if (current.classList.contains(cls))\n            {\n               reject = true;\n               break;\n            }\n         }\n      }\n\n      // Excluded IDs\n      if (!reject && exIds)\n      {\n         for (const id of exIds)\n         {\n            if (current.id === id)\n            {\n               reject = true;\n               break;\n            }\n         }\n      }\n\n      // Excluded selector\n      if (!reject && excludeSelector && current.matches(excludeSelector)) { reject = true; }\n\n      if (reject)\n      {\n         current = current.parentElement;\n         depth++;\n         continue;\n      }\n\n      // Inclusion checks --------------------------------------------------------------------------------------------\n\n      let accept = true;\n\n      // Must contain all included classes\n      if (inClasses)\n      {\n         for (const cls of inClasses)\n         {\n            if (!current.classList.contains(cls))\n            {\n               accept = false;\n               break;\n            }\n         }\n      }\n\n      // Must match all included IDs\n      if (accept && inIds)\n      {\n         for (const id of inIds)\n         {\n            if (current.id !== id)\n            {\n               accept = false;\n               break;\n            }\n         }\n      }\n\n      // Must match inclusion selector\n      if (accept && selector && !current.matches(selector))\n      {\n         accept = false;\n      }\n\n      // Custom predicate must return true\n      if (accept && predicate && predicate(current) !== true)\n      {\n         accept = false;\n      }\n\n      if (accept)\n      {\n         return current;\n      }\n\n      current = current.parentElement;\n      depth++;\n   }\n\n   return null;\n}\n\n/**\n * Options for {@link findParentElement}.\n */\nexport interface FindParentOptions\n{\n   /** Iterable list of CSS classes which disqualify a parent element. */\n   excludeClasses?: Iterable<string>;\n\n   /** Iterable list of CSS classes an element must contain to be accepted. */\n   includeClasses?: Iterable<string>;\n\n   /** Iterable list of IDs which disqualify a parent element. */\n   excludeIds?: Iterable<string>;\n\n   /** Iterable list of IDs a parent element must have to be accepted. */\n   includeIds?: Iterable<string>;\n\n   /** CSS selector an ancestor must match to be accepted. */\n   selector?: string;\n\n   /** CSS selector which disqualifies a parent element if matched. */\n   excludeSelector?: string;\n\n   /** Custom predicate; must return true for an element to be accepted. */\n   predicate?: (el: HTMLElement) => boolean;\n\n   /** Stop traversal if this element is reached. */\n   stopAt?: HTMLElement | null;\n\n   /** Positive integer defining maximum number of parentElement hops allowed. */\n   maxDepth?: number;\n}\n\n\n\n// /**\n//  * @param el - Starting element.\n//  *\n//  * @param [excludeClasses] - Optional iterable list of CSS class names to skip parent element\n//  * traversal.\n//  *\n//  * @returns First parent element not potentially excluded.\n//  */\n// export function findParentElement(el: Element, excludeClasses?: Iterable<string>): HTMLElement | null\n// {\n//    if (!CrossRealm.browser.isElement(el)) { throw new TypeError(`'el' is not a valid Element`); }\n//\n//    const exclusions = ensureNonEmptyIterable(excludeClasses);\n//\n//    // No exclusions â†’ return the immediate parent.\n//    if (!exclusions) { return el.parentElement; }\n//\n//    let current = el.parentElement;\n//\n//    while (current)\n//    {\n//       let hasExcluded = false;\n//\n//       for (const cls of exclusions)\n//       {\n//          if (current.classList.contains(cls))\n//          {\n//             hasExcluded = true;\n//             break;\n//          }\n//       }\n//\n//       if (!hasExcluded) { return current; }\n//\n//       current = current.parentElement;\n//    }\n//\n//    return null;\n// }\n","import { CrossRealm } from '#runtime/util/realm';\r\n\r\n/**\r\n * Recursive function that finds the closest parent stacking context.\r\n * See also https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context\r\n *\r\n * Original author: Kerry Liu / https://github.com/gwwar\r\n *\r\n * @see https://github.com/gwwar/z-context/blob/master/content-script.js\r\n * @see https://github.com/gwwar/z-context/blob/master/LICENSE\r\n *\r\n * @param {Element} node -\r\n *\r\n * @param [activeWindow] The target active window as applicable.\r\n *\r\n * @returns The closest parent stacking context or undefined if none.\r\n *\r\n */\r\nexport function getStackingContext(node: Element, activeWindow: Window = window): StackingContext | undefined\r\n{\r\n   const activeDocument = activeWindow.document;\r\n\r\n   // The root element (HTML).\r\n   if (!node || node.nodeName === 'HTML')\r\n   {\r\n      return { node: activeDocument.documentElement, reason: 'root' };\r\n   }\r\n\r\n   // Handle shadow root elements.\r\n   if (CrossRealm.browser.isShadowRoot(node)) // node.nodeName === '#document-fragment')\r\n   {\r\n      return getStackingContext((node as ShadowRoot).host, activeWindow);\r\n   }\r\n\r\n   const computedStyle = activeWindow.getComputedStyle(node);\r\n\r\n   // position: fixed or sticky.\r\n   if (computedStyle.position === 'fixed' || computedStyle.position === 'sticky')\r\n   {\r\n      return { node, reason: `position: ${computedStyle.position}` };\r\n   }\r\n\r\n   // positioned (absolutely or relatively) with a z-index value other than \"auto\".\r\n   if (computedStyle.zIndex !== 'auto' && computedStyle.position !== 'static')\r\n   {\r\n      return { node, reason: `position: ${computedStyle.position}; z-index: ${computedStyle.zIndex}` };\r\n   }\r\n\r\n   // elements with an opacity value less than 1.\r\n   if (computedStyle.opacity !== '1')\r\n   {\r\n      return { node, reason: `opacity: ${computedStyle.opacity}` };\r\n   }\r\n\r\n   // elements with a transform value other than \"none\".\r\n   if (computedStyle.transform !== 'none')\r\n   {\r\n      return { node, reason: `transform: ${computedStyle.transform}` };\r\n   }\r\n\r\n   // elements with a mix-blend-mode value other than \"normal\".\r\n   if (computedStyle.mixBlendMode !== 'normal')\r\n   {\r\n      return { node, reason: `mixBlendMode: ${computedStyle.mixBlendMode}` };\r\n   }\r\n\r\n   // elements with a filter value other than \"none\".\r\n   if (computedStyle.filter !== 'none')\r\n   {\r\n      return { node, reason: `filter: ${computedStyle.filter}` };\r\n   }\r\n\r\n   // elements with a perspective value other than \"none\".\r\n   if (computedStyle.perspective !== 'none')\r\n   {\r\n      return { node, reason: `perspective: ${computedStyle.perspective}` };\r\n   }\r\n\r\n   // elements with a clip-path value other than \"none\".\r\n   if (computedStyle.clipPath !== 'none')\r\n   {\r\n      return { node, reason: `clip-path: ${computedStyle.clipPath} ` };\r\n   }\r\n\r\n   // elements with a mask value other than \"none\".\r\n   const mask = computedStyle.mask || computedStyle.webkitMask;\r\n   if (mask !== 'none' && mask !== undefined)\r\n   {\r\n      return { node, reason: `mask:  ${mask}` };\r\n   }\r\n\r\n   // elements with a mask-image value other than \"none\".\r\n   const maskImage = computedStyle.maskImage || computedStyle.webkitMaskImage;\r\n   if (maskImage !== 'none' && maskImage !== undefined)\r\n   {\r\n      return { node, reason: `mask-image: ${maskImage}` };\r\n   }\r\n\r\n   // elements with a mask-border value other than \"none\".\r\n   const maskBorder = (computedStyle as any).maskBorder || (computedStyle as any).webkitMaskBorder;\r\n   if (maskBorder !== 'none' && maskBorder !== undefined)\r\n   {\r\n      return { node, reason: `mask-border: ${maskBorder}` };\r\n   }\r\n\r\n   // elements with isolation set to \"isolate\".\r\n   if (computedStyle.isolation === 'isolate')\r\n   {\r\n      return { node, reason: `isolation: ${computedStyle.isolation}` };\r\n   }\r\n\r\n   // transform or opacity in will-change even if you don't specify values for these attributes directly.\r\n   if (computedStyle.willChange === 'transform' || computedStyle.willChange === 'opacity')\r\n   {\r\n      return { node, reason: `willChange: ${computedStyle.willChange}` };\r\n   }\r\n\r\n   // elements with -webkit-overflow-scrolling set to \"touch\".\r\n   if ((computedStyle as any).webkitOverflowScrolling === 'touch')\r\n   {\r\n      return { node, reason: '-webkit-overflow-scrolling: touch' };\r\n   }\r\n\r\n   // an item with a z-index value other than \"auto\".\r\n   if (computedStyle.zIndex !== 'auto')\r\n   {\r\n      const parentStyle = activeWindow.getComputedStyle(node.parentNode as Element);\r\n      // with a flex|inline-flex parent.\r\n      if (parentStyle.display === 'flex' || parentStyle.display === 'inline-flex')\r\n      {\r\n         return { node, reason: `flex-item; z-index: ${computedStyle.zIndex}` };\r\n         // with a grid parent.\r\n      }\r\n      else if (parentStyle.grid !== 'none / none / none / row / auto / auto')\r\n      {\r\n         return { node, reason: `child of grid container; z-index: ${computedStyle.zIndex}` };\r\n      }\r\n   }\r\n\r\n   // contain with a value of layout, or paint, or a composite value that includes either of them\r\n   const contain = computedStyle.contain;\r\n   if (['layout', 'paint', 'strict', 'content'].indexOf(contain) > -1 ||\r\n    contain.indexOf('paint') > -1 ||\r\n    contain.indexOf('layout') > -1\r\n   )\r\n   {\r\n      return { node, reason: `contain: ${contain}` };\r\n   }\r\n\r\n   return getStackingContext(node.parentNode as Element, activeWindow);\r\n}\r\n\r\n/**\r\n * Describes why a stacking context is created.\r\n */\r\nexport type StackingContext = {\r\n   /**\r\n    * A DOM Element.\r\n    */\r\n   node: Element;\r\n\r\n   /**\r\n    * Reason for why a stacking context was created.\r\n    */\r\n   reason: string;\r\n}\r\n"],"names":[],"mappings":"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"}