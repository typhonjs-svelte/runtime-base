{"version":3,"file":"index.js","sources":["../../../../../src/svelte/action/dom/tooltip/popoverTooltip.js"],"sourcesContent":["import { localize }  from '#runtime/util/i18n';\n\n/**\n * Provides a popover tooltip action that by default uses the elements `title` attribute.\n *\n * Depending on the runtime and platform the use of `title` may be replaced with an alternate tooltip implementation.\n *\n * @param {HTMLElement} node - Target element.\n *\n * @param {TooltipOptions} options - Options.\n *\n * @returns {import('svelte/action').ActionReturn<TooltipOptions>} Lifecycle functions.\n */\nexport function popoverTooltip(node, { tooltip, ariaLabel = false })\n{\n   function setAttributes()\n   {\n      if (typeof tooltip === 'string')\n      {\n         const value = localize(tooltip);\n\n         node.setAttribute('title', value);\n\n         if (ariaLabel)\n         {\n            node.setAttribute('aria-label', value);\n         }\n         else\n         {\n            node.removeAttribute('aria-label');\n         }\n      }\n      else\n      {\n         node.removeAttribute('title');\n         node.removeAttribute('aria-label');\n      }\n   }\n\n   setAttributes();\n\n   return {\n      /**\n       * @param {TooltipOptions}  options - Update tooltip.\n       */\n      update: (options) =>\n      {\n         tooltip = typeof options?.tooltip === 'string' ? options.tooltip : void 0;\n         ariaLabel = typeof options?.ariaLabel === 'boolean' ? options.ariaLabel : false;\n\n         setAttributes();\n      }\n   };\n}\n\n/**\n * @typedef {object} TooltipOptions\n *\n * @property {string} [tooltip] Tooltip value or language key.\n *\n * @property {boolean} [ariaLabel=false] When true, the tooltip value is also set to the `aria-label` attribute.\n */\n"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,cAAc,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,SAAS,GAAG,KAAK,EAAE;AACnE;AACA,GAAG,SAAS,aAAa;AACzB,GAAG;AACH,MAAM,IAAI,OAAO,OAAO,KAAK,QAAQ;AACrC,MAAM;AACN,SAAS,MAAM,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC;;AAExC,SAAS,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC;;AAE1C,SAAS,IAAI,SAAS;AACtB,SAAS;AACT,YAAY,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,KAAK,CAAC;AAClD,SAAS;AACT;AACA,SAAS;AACT,YAAY,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC;AAC9C,SAAS;AACT,MAAM;AACN;AACA,MAAM;AACN,SAAS,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC;AACtC,SAAS,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC;AAC3C,MAAM;AACN,GAAG;;AAEH,GAAG,aAAa,EAAE;;AAElB,GAAG,OAAO;AACV;AACA;AACA;AACA,MAAM,MAAM,EAAE,CAAC,OAAO;AACtB,MAAM;AACN,SAAS,OAAO,GAAG,OAAO,OAAO,EAAE,OAAO,KAAK,QAAQ,GAAG,OAAO,CAAC,OAAO,GAAG,MAAM;AAClF,SAAS,SAAS,GAAG,OAAO,OAAO,EAAE,SAAS,KAAK,SAAS,GAAG,OAAO,CAAC,SAAS,GAAG,KAAK;;AAExF,SAAS,aAAa,EAAE;AACxB,MAAM;AACN,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;"}